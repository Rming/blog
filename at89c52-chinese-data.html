<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="AT89C52中文资料">




  <meta name="keywords" content="电子设计,">





  <link rel="alternate" href="/default" title="Rming">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.2">



<link rel="canonical" href="http://rmingwang.com/at89c52-chinese-data.html">


<meta name="description" content="AT89C52中文资料 AT89C52的中文资料 AT89C52是美国Atmel公司生产的低电压、高性能CMOS 8位单片机，片内含8KB的可反复檫写的程序存储器和12B的随机存取数据存储器（RAM），器件采用Atmel公司的高密度、非易失性存储技术生产，兼容标准MCS-51指令系统，片内配置通用8位中央处理器（CPU）和Flash存储单元，功能强大的AT89C52单片机可灵活应用于各种控制领域。">
<meta name="keywords" content="电子设计">
<meta property="og:type" content="article">
<meta property="og:title" content="AT89C52中文资料">
<meta property="og:url" content="http://rmingwang.com/at89c52-chinese-data.html">
<meta property="og:site_name" content="Rming">
<meta property="og:description" content="AT89C52中文资料 AT89C52的中文资料 AT89C52是美国Atmel公司生产的低电压、高性能CMOS 8位单片机，片内含8KB的可反复檫写的程序存储器和12B的随机存取数据存储器（RAM），器件采用Atmel公司的高密度、非易失性存储技术生产，兼容标准MCS-51指令系统，片内配置通用8位中央处理器（CPU）和Flash存储单元，功能强大的AT89C52单片机可灵活应用于各种控制领域。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2012-10-17T18:30:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AT89C52中文资料">
<meta name="twitter:description" content="AT89C52中文资料 AT89C52的中文资料 AT89C52是美国Atmel公司生产的低电压、高性能CMOS 8位单片机，片内含8KB的可反复檫写的程序存储器和12B的随机存取数据存储器（RAM），器件采用Atmel公司的高密度、非易失性存储技术生产，兼容标准MCS-51指令系统，片内配置通用8位中央处理器（CPU）和Flash存储单元，功能强大的AT89C52单片机可灵活应用于各种控制领域。">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?26275cbf6baa00fb8df9ba266da07c6d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-22663233-12', 'auto');
        ga('send', 'pageview');
  </script>





  


    <title> AT89C52中文资料 - Rming </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Rming</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/links.html">
                            
                            
                                友情链接
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          AT89C52中文资料
        
      </h1>

      <time class="post-time">
          9月 5 2011
      </time>
    </header>



    
            <div class="post-content">
            <p>AT89C52中文资料</p>
<p>AT89C52的中文资料</p>
<p>AT89C52是美国Atmel公司生产的低电压、高性能CMOS 8位单片机，片内含8KB的可反复檫写的程序存储器和12B的随机存取数据存储器（RAM），器件采用Atmel公司的高密度、非易失性存储技术生产，兼容标准MCS-51指令系统，片内配置通用8位中央处理器（CPU）和Flash存储单元，功能强大的AT89C52单片机可灵活应用于各种控制领域。AT89C52单片机属于AT89C51单片机的增强型，与Intel公司的80C52在引脚排列、硬件组成、工作特点和指令系统等方面兼容。其主要工作特性是：</p>
<p>片内程序存储器内含8KB的Flash程序存储器，可擦写寿命为1000次；</p>
<p>片内数据存储器内含256字节的RAM；</p>
<p>具有32根可编程I/O口线；</p>
<p>具有3个可编程定时器；</p>
<p>中断系统是具有8个中断源、6个中断矢量、2个级优先权的中断结构；</p>
<p>串行口是具有一个全双工的可编程串行通信口；</p>
<p>具有一个数据指针DPTR；</p>
<p>低功耗工作模式有空闲模式和掉电模式；</p>
<p>具有可编程的3级程序锁定位；</p>
<p>AT89C52工作电源电压为5（1+0.2）V，且典型值为5V；</p>
<p>AT89C52最高工作频率为24MHz。</p>
<p>单片机正常工作时，都需要有一个时钟电路和一个复位电路。本设计中选择了内部时钟方式和按键电平复位电路，来构成单片机的最小电路。如图3.1所示。</p>
<p>功能特性描述</p>
<p>AT89S52是一种低功耗、高性能CMOS8位微控制器，具有8K 在系统可编程Flash 存储器。使用Atmel 公司高密度非易失性存储器技术制造，与工业80C51 产品指令和引脚完全兼容。片上Flash允许程序存储器在系统可编程，亦适于常规编程器。</p>
<p>在单芯片上，拥有灵巧的8 位CPU 和在系统可编程Flash，使得AT89S52为众多嵌入式控制应用系统提供高灵活、超有效的解决方案。</p>
<p>AT89S52具有以下标准功能：</p>
<p>8k字节Flash，256字节RAM，32 位I/O 口线，看门狗定时器，2 个数据指针，三个16 位定时器/计数器，一个6向量2级中断结构，全双工串行口，片内晶振及时钟电路。</p>
<p>另外，AT89S52 可降至0Hz 静态逻辑操作，支持2种软件可选择节电模式。空闲模式下，CPU停止工作，允许RAM、定时器/计数器、串口、中断继续工作。掉电保护方式下，RAM内容被保存，振荡器被冻结，单片机一切工作停止，直到下一个中断或硬件复位为止。8 位微控制器8K 字节在系统可编程</p>
<p>AT89C52是51系列单片机的一个型号，它是ATMEL公司生产的。</p>
<p>AT89C52是一个低电压，高性能CMOS 8位单片机，片内含8k bytes的可反复擦写的Flash只读程序存储器和256 bytes的随机存取数据存储器（RAM），器件采用ATMEL公司的高密度、非易失性存储技术生产，兼容标准MCS-51指令系统，片内置通用8位中央处理器和Flash存储单元，功能强大的AT89C52单片机可为您提供许多较复杂系统控制应用场合。</p>
<p>AT89C52有40个引脚，32个外部双向输入/输出（I/O）端口，同时内含2个外中断口，3个16位可编程定时计数器,2个全双工串行通信口，2个读写口线，AT89C52可以按照常规方法进行编程，也可以在线编程。其将通用的微处理器和Flash存储器结合在一起，特别是可反复擦写的Flash存储器可有效地降低开发成本。</p>
<p>AT89C52有PDIP、PQFP/TQFP及PLCC等三种封装形式，以适应不同产品的需求。</p>
<p>主要功能特性：</p>
<p>· 兼容MCS51指令系统 · 8k可反复擦写(&gt;1000次）Flash ROM</p>
<p>· 32个双向I/O口 · 256x8bit内部RAM</p>
<p>· 3个16位可编程定时/计数器中断 · 时钟频率0-24MHz</p>
<p>· 2个串行中断 · 可编程UART串行通道</p>
<p>· 2个外部中断源 · 共6个中断源</p>
<p>· 2个读写中断口线 · 3级加密位</p>
<p>· 低功耗空闲和掉电模式 · 软件设置睡眠和唤醒功能</p>
<p>AT89C52各引脚功能及管脚电压</p>
<p>概述：AT89C52P为40 脚双列直插封装的8 位通用微处理器，采用工业标准的C51内核，在内部功能及管脚排布上与通用的8xc52 相同，其主要用于会聚调整时的功能控制。功能包括对会聚主IC 内部寄存器、数据RAM及外部接口等功能部件的初始化，会聚调整控制，会聚测试图控制，红外遥控信号IR的接收解码及与主板CPU通信等。主要管脚有：XTAL1（19 脚）和XTAL2（18 脚）为振荡器输入输出端口，外接12MHz 晶振。RST/Vpd（9 脚）为复位输入端口，外接电阻电容组成的复位电路。VCC（40 脚）和VSS（20 脚）为供电端口，分别接+5V电源的正负端。P0~P3 为可编程通用I/O 脚，其功能用途由软件定义，在本设计中，P0 端口（32~39 脚）被定义为N1 功能控制端口，分别与N1的相应功能管脚相连接，13 脚定义为IR输入端，10 脚和11脚定义为I2C总线控制端口，分别连接N1的SDAS（18脚）和SCLS（19脚）端口，12 脚、27 脚及28 脚定义为握手信号功能端口，连接主板CPU 的相应功能端，用于当前制式的检测</p>
<p>及会聚调整状态进入的控制功能。</p>
<p>·P0 口：P0 口是一组8 位漏极开路型双向I/O 口， 也即地址/数据总线复用口。作为输出口用时，每位能吸收电流的</p>
<p>方式驱动8 个TTL逻辑门电路，对端口P0 写“1”时，可作为高阻抗输入端用。</p>
<p>在访问外部数据存储器或程序存储器时，这组口线分时转换地址（低8 位）和数据总线复用，在访问期间激活内部上</p>
<p>拉电阻。</p>
<p>在Flash 编程时，P0 口接收指令字节，而在程序校验时，输出指令字节，校验时，要求外接上拉电阻。</p>
<p>·P1 口：P1 是一个带内部上拉电阻的8 位双向I/O 口， P1 的输出缓冲级可驱动（吸收或输出电流）4 个TTL 逻辑</p>
<p>门电路。对端口写“1”，通过内部的上拉电阻把端口拉到高电平，此时可作输入口。作输入口使用时，因为内部存在上拉</p>
<p>电阻，某个引脚被外部信号拉低时会输出一个电流(IIL)。</p>
<p>与AT89C51 不同之处是，P1.0 和P1.1 还可分别作为定时/计数器2 的外部计数输入（P1.0/T2）和输入（P1.1/T2EX），</p>
<p>参见表1。</p>
<p>Flash 编程和程序校验期间，P1 接收低8 位地址。</p>
<p>表.P1.0和P1.1的第二功能</p>
<p>引脚号</p>
<p>功能特性</p>
<p>P1.0</p>
<p>T2，时钟输出</p>
<p>P1.1</p>
<p>T2EX（定时/计数器2）</p>
<p>·P2 口：P2 是一个带有内部上拉电阻的8 位双向I/O 口，P2 的输出缓冲级可驱动（吸收或输出电流）4 个TTL 逻辑</p>
<p>门电路。对端口P2 写“1”，通过内部的上拉电阻把端口拉到高电平，此时可作输入口，作输入口使用时，因为内部存在</p>
<p>上拉电阻，某个引脚被外部信号拉低时会输出一个电流(IIL)。</p>
<p>在访问外部程序存储器或16 位地址的外部数据存储器（例如执行MOVX @DPTR 指令）时，P2 口送出高8 位地址数</p>
<p>据。在访问8 位地址的外部数据存储器（如执行MOVX @RI 指令）时，P2 口输出P2 锁存器的内容。</p>
<p>Flash 编程或校验时，P2亦接收高位地址和一些控制信号。</p>
<p>·P3 口：P3 口是一组带有内部上拉电阻的8 位双向I/O 口。P3 口输出缓冲级可驱动（吸收或输出电流）4 个TTL 逻</p>
<p>辑门电路。对P3 口写入“1”时，它们被内部上拉电阻拉高并可作为输入端口。此时，被外部拉低的P3 口将用上拉电阻</p>
<p>输出电流（IIL）。</p>
<p>P3 口除了作为一般的I/O 口线外，更重要的用途是它的第二功能</p>
<p>P3 口还接收一些用于Flash 闪速存储器编程和程序校验的控制信号。</p>
<p>·RST：复位输入。当振荡器工作时，RST引脚出现两个机器周期以上高电平将使单片机复位。</p>
<p>·ALE/PROG： 当访问外部程序存储器或数据存储器时，ALE（地址锁存允许）输出脉冲用于锁存地址的低8 位字</p>
<p>节。一般情况下，ALE 仍以时钟振荡频率的1/6 输出固定的脉冲信号，因此它可对外输出时钟或用于定时目的。要注意的</p>
<p>是：每当访问外部数据存储器时将跳过一个ALE 脉冲。</p>
<p>对Flash 存储器编程期间，该引脚还用于输入编程脉冲（PROG）。</p>
<p>如有必要，可通过对特殊功能寄存器（SFR）区中的8EH 单元的D0 位置位，可禁止ALE 操作。该位置位后，只有一条</p>
<p>MOVX 和MOVC指令才能将ALE 激活。此外，该引脚会被微弱拉高，单片机执行外部程序时，应设置ALE 禁止位无效。</p>
<p>·PSEN：程序储存允许（PSEN）输出是外部程序存储器的读选通信号，当AT89C52 由外部程序存储器取指令（或数</p>
<p>据）时，每个机器周期两次PSEN 有效，即输出两个脉冲。在此期间，当访问外部数据存储器，将跳过两次PSEN信号。</p>
<p>·EA/VPP：外部访问允许。欲使CPU 仅访问外部程序存储器（地址为0000H—FFFFH），EA 端必须保持低电平（接</p>
<p>地）。需注意的是：如果加密位LB1 被编程，复位时内部会锁存EA端状态。</p>
<p>如EA端为高电平（接Vcc端），CPU 则执行内部程序存储器中的指令。</p>
<p>Flash 存储器编程时，该引脚加上+12V 的编程允许电源Vpp，当然这必须是该器件是使用12V 编程电压Vpp。</p>
<p>·XTAL1：振荡器反相放大器的及内部时钟发生器的输入端。</p>
<p>·XTAL2：振荡器反相放大器的输出端。</p>
<p>·特殊功能寄存器：</p>
<p>在AT89C52 片内存储器中，80H-FFH 共128 个单元为特殊功能寄存器（SFE），SFR 的地址空间映象如表2 所示。</p>
<p>并非所有的地址都被定义，从80H—FFH 共128 个字节只有一部分被定义，还有相当一部分没有定义。对没有定义的</p>
<p>单元读写将是无效的，读出的数值将不确定，而写入的数据也将丢失。</p>
<p>不应将数据“1”写入未定义的单元，由于这些单元在将来的产品中可能赋予新的功能，在这种情况下，复位后这些单</p>
<p>元数值总是“0”。</p>
<p>AT89C52除了与AT89C51所有的定时/计数器0 和定时/计数器1 外，还增加了一个定时/计数器2。定时/计数器2 的控</p>
<p>制和状态位位于T2CON（参见表3）T2MOD（参见表4），寄存器对（RCAO2H、RCAP2L）是定时器2 在16 位捕获方式或16 位</p>
<p>自动重装载方式下的捕获/自动重装载寄存器。</p>
<p>·数据存储器：</p>
<p>AT89C52 有256 个字节的内部RAM，80H-FFH 高128 个字节与特殊功能寄存器（SFR）地址是重叠的，也就是高128</p>
<p>字节的RAM 和特殊功能寄存器的地址是相同的，但物理上它们是分开的。</p>
<p>当一条指令访问7FH 以上的内部地址单元时，指令中使用的寻址方式是不同的，也即寻址方式决定是访问高128 字节</p>
<p>RAM 还是访问特殊功能寄存器。如果指令是直接寻址方式则为访问特殊功能寄存器。</p>
<p>例如，下面的直接寻址指令访问特殊功能寄存器0A0H（即P2 口）地址单元。</p>
<p>MOV 0A0H，#data</p>
<p>间接寻址指令访问高128 字节RAM，例如，下面的间接寻址指令中，R0 的内容为0A0H，则访问数据字节地址为0A0H，</p>
<p>而不是P2 口（0A0H）。</p>
<p>MOV @R0，#data</p>
<p>堆栈操作也是间接寻址方式，所以，高128 位数据RAM 亦可作为堆栈区使用。</p>
<p>·定时器0和定时器1：</p>
<p>AT89C52的定时器0和定时器1 的工作方式与AT89C51 相同。</p>
<p>·定时器2：</p>
<p>定时器2 是一个16 位定时/计数器。它既可当定时器使用，也可作为外部事件计数器使用，其工作方式由特殊功能寄</p>
<p>存器T2CON（如表3）的C/T2 位选择。定时器2 有三种工作方式：捕获方式，自动重装载（向上或向下计数）方式和波</p>
<p>特率发生器方式，工作方式由T2CON 的控制位来选择。</p>
<p>定时器2 由两个8 位寄存器TH2 和TL2 组成，在定时器工作方式中，每个机器周期TL2 寄存器的值加1，由于一个机</p>
<p>器周期由12 个振荡时钟构成，因此，计数速率为振荡频率的1/12。</p>
<p>在计数工作方式时，当T2 引脚上外部输入信号产生由1 至0 的下降沿时，寄存器的值加1，在这种工作方式下，每个</p>
<p>机器周期的5SP2 期间，对外部输入进行采样。若在第一个机器周期中采到的值为1，而在下一个机器周期中采到的值为0，</p>
<p>则在紧跟着的下一个周期的S3P1 期间寄存器加1。由于识别1 至0 的跳变需要2 个机器周期（24 个振荡周期），因此，最</p>
<p>高计数速率为振荡频率的1/24。为确保采样的正确性，要求输入的电平在变化前至少保持一个完整周期的时间，以保证输</p>
<p>入信号至少被采样一次。</p>
<p>·捕获方式：</p>
<p>在捕获方式下，通过T2CON 控制位EXEN2 来选择两种方式。如果EXEN2=0，定时器2 是一个16 位定时器或计数器，</p>
<p>计数溢出时，对T2CON 的溢出标志TF2 置位，同时激活中断。如果EXEN2=1，定时器2 完成相同的操作，而当T2EX 引</p>
<p>脚外部输入信号发生1 至0 负跳变时，也出现TH2 和TL2 中的值分别被捕获到RCAP2H 和RCAP2L 中。另外，T2EX 引</p>
<p>脚信号的跳变使得T2CON 中的EXF2 置位，与TF2 相仿，EXF2 也会激活中断。捕获方式如图4 所示。</p>
<p>·自动重装载（向上或向下计数器）方式：</p>
<p>当定时器2工作于16位自动重装载方式时，能对其编程为向上或向下计数方式，这个功能可通过特殊功能寄存器T2CON</p>
<p>（见表5）的DCEN 位（允许向下计数）来选择的。复位时，DCEN 位置“0”，定时器2 默认设置为向上计数。当DCEN</p>
<p>置位时，定时器2 既可向上计数也可向下计数，这取决于T2EX 引脚的值，参见图5，当DCEN=0 时，定时器2 自动设置</p>
<p>为向上计数，在这种方式下，T2CON 中的EXEN2 控制位有两种选择，若EXEN2=0，定时器2 为向上计数至0FFFFH 溢</p>
<p>出，置位TF2 激活中断，同时把16 位计数寄存器RCAP2H 和RCAP2L重装载，RCAP2H 和RCAP2L 的值可由软件预置。</p>
<p>若EXEN2=1，定时器2 的16 位重装载由溢出或外部输入端T2EX 从1 至0 的下降沿触发。这个脉冲使EXF2 置位，如果</p>
<p>中断允许，同样产生中断。</p>
<p>定时器2 的中断入口地址是：002BH ——0032H 。</p>
<p>当DCEN=1 时，允许定时器2 向上或向下计数，如图6 所示。这种方式下，T2EX 引脚控制计数器方向。T2EX 引脚为逻</p>
<p>辑“1”时，定时器向上计数，当计数0FFFFH 向上溢出时，置位TF2，同时把16 位计数寄存器RCAP2H 和RCAP2L 重装载到TH2 和TL2 中。 T2EX 引脚为逻辑“0”时，定时器2 向下计数，当TH2 和TL2 中的数值等于RCAP2H 和RCAP2L中的值时，计数溢出，置位TF2，同时将0FFFFH 数值重新装入定时寄存器中。当定时/计数器2 向上溢出或向下溢出时，置位EXF2 位。·波特率发生器：当T2CON（表3）中的TCLK 和RCLK 置位时，定时/计数器2 作为波特率发生器使用。如果定时/计数器2 作为发送器或　接收器，其发送和接收的波特率可以是不同的，定时器1 用于其它功能，如图7 所示。若RCLK 和TCLK 置位，则定时器2工作于波特率发生器方式。波特率发生器的方式与自动重装载方式相仿，在此方式下，TH2 翻转使定时器2 的寄存器用RCAP2H 和RCAP2L 中的16</p>
<p>位数值重新装载，该数值由软件设置。在方式1 和方式3 中，波特率由定时器2 的溢出速率根据下式确定：方式1和3的波特率=定时器的溢出率/16定时器既能工作于定时方式也能工作于计数方式，在大多数的应用中，是工作在定时方式（C/T2=0）。定时器2 作为波特率发生器时，与作为定时器的操作是不同的，通常作为定时器时，在每个机器周期（1/12 振荡频率）寄存器的值加1，而作为波特率发生器使用时，在每个状态时间（1/2 振荡频率）寄存器的值加1。波特率的计算公式如下：方式1和3的波特率=振荡频率/{32*[65536-(RCP2H,RCP2L)]}式中（RCAP2H，RCAP2L）是RCAP2H 和RCAP2L中的16 位无符号数。</p>
<p>定时器2 作为波特率发生器使用的电路如图7 所示。T2CON 中的RCLK 或TCLK=1 时，波特率工作方式才有效。在波特率发生器工作方式中，TH2 翻转不能使TF2 置位，故而不产生中断。但若EXEN2 置位，且T2EX 端产生由1 至0 的负跳变，则会使EXF2 置位，此时并不能将（RCAP2H，RCAP2L）的内容重新装入TH2 和TL2 中。所以，当定时器2 作为波特率发生器使用时，T2EX 可作为附加的外部中断源来使用。需要注意的是，当定时器2 工作于波特率器时，作为定时器运行（TR2=1）时，并不能访问TH2 和TL2。因为此时每个状态时间定时器都会加1，对其读写将得到一个不确定的数值。然而，对RCAP2 则可读而不可写，因为写入操作将是重新装载，写入操作可能令写和/或重装载出错。在访问定时器2或RCAP2 寄存器之前，应将定时器关闭（清除TR2）。</p>
<p>·可编程时钟输出：定时器2 可通过编程从P1.0 输出一个占空比为50%的时钟信号，如图8 所示。P1.0 引脚除了是一个标准的I/O 口外，还可以通过编程使其作为定时/计数器2 的外部时钟输入和输出占空比50%的时钟脉冲。当时钟振荡频率为16MHz 时，输出时钟频率范围为61Hz—4MHz。当设置定时/计数器2 为时钟发生器时，C/T2（T2CON .1）=0，T2OE （T2MOD.1） =1，必须由TR2（T2CON.2）启动或停止定时器。时钟输出频率取决于振荡频率和定时器2 捕获寄存器（RCAP2H，RCAP2L）的重新装载值，公式如下：输出时钟频率=振荡器频率/{4*[65536-(RCP2H,RCP2L)]}在时钟输出方式下，定时器2 的翻转不会产生中断，这个特性与作为波特率发生器使用时相仿。定时器2 作为波特率发生器使用时，还可作为时钟发生器使用，但需要注意的是波特率和时钟输出频率不能分开确定，这是因为它们同使用RCAP2L和RCAP2L。·UART：AT89C52的UART 工作方式与AT89C51 工作方式相同。</p>
<p>·中断：AT89C52 共有6 个中断向量：两个外中断（INT0 和INT1），3 个定时器中断（定时器0、1、2）和串行口中断。所有这些中断源如图9 所示这些中断源可通过分别设置专用寄存器IE 的置位或清0 来控制每一个中断的允许或禁止。IE 也有一个总禁止位EA，它能控制所有中断的允许或禁止。注意表5 中的IE.6 为保留位，在AT89C51 中IE.5 也是保留位。程序员不应将“1”写入这些位，它们是将来AT89 系列产品作为扩展用的。定时器2 的中断是由T2CON 中的TF2 和EXF2 逻辑或产生的，当转向中断服务程序时，这些标志位不能被硬件清除，事实上，服务程序需确定是TF2 或EXF2 产生中断，而由软件清除中断标志位。定时器0 和定时器1 的标志位TF0 和TF1 在定时器溢出那个机器周期的S5P2 状态置位，而会在下一个机器周期才查询到该中断标志。然而，定时器2 的标志位TF2 在定时器溢出的那个机器周期的S2P2 状态置位，并在同一个机器周期内查询到该标志。时钟振荡器：AT89C52 中有一个用于构成内部振荡器的高增益反相放大器，引脚XTAL1 和XTAL2 分别是该放大器的输入端和输出端。这个放大器与作为反馈元件的片外石英晶体或陶瓷谐振器一起构成自激振荡器，振荡电路参见图10。外接石英晶体（或陶瓷谐振器）及电容C1、C2 接在放大器的反馈回路中构成并联振荡电路。对外接电容C1、C2 虽然没有十分严格的要求，但电容容量的大小会轻微影响振荡频率的高低、振荡器工作的稳定性、起振的难易程序及温度稳定性，如果使用石英晶体，我们推荐电容使用30pF±10pF，而如使用陶瓷谐振器建议选择40pF±10F。用户也可以采用外部时钟。采用外部时钟的电路如图10 右图所示。这种情况下，外部时钟脉冲接到XTAL1 端，即内部时钟发生器的输入端，XTAL2 则悬空。由于外部时钟信号是通过一个2 分频触发器后作为内部时钟信号的，所以对外部时钟信号的占空比没有特殊要求，但最小高电平持续时间和最大的低电平持续时间应符合产品技术条件的要求。</p>
<p>·空闲节电模式：在空闲工作模式状态， CPU 自身处于睡眠状态而所有片内的外设仍保持激活状态，这种方式由软件产生。此时，同时将片内RAM 和所有特殊功能寄存器的内容冻结。空闲模式可由任何允许的中断请求或硬件复位终止。由硬件复位终止空闲状态只需两个机器周期有效复位信号，在此状态下，片内硬件禁止访问内部RAM，但可以访问端口引脚，当用复位终止空闲方式时，为避免可能对端口产生意外写入，激活空闲模式的那条指令后一条指令不应是一条对端口或外部存储器的写入指令。</p>
<p>·掉电模式：　在掉电模式下，振荡器停止工作，进入掉电模式的指令是最后一条被执行的指令，片内RAM 和特殊功能寄存器的内容在终止掉电模式前被冻结。退出掉电模式的唯一方法是硬件复位，复位后将重新定义全部特殊功能寄存器，但不改变RAM中的内容，在Vcc恢复到正常工作电平前，复位应无效，且必须保持一定时间以使振荡器重启动并稳定工作。</p>
<p>·程序存储器的加密：AT89C52 有3 个程序加密位，可对芯片上的3 个加密位LB1、LB2、LB3 进行编程（P）或不编程（U）来得到。当加密位LB1 被编程时，在复位期间，EA 端的逻辑电平被采样并锁存，如果单片机上电后一直没有复位，则锁存起的初始值是一个随机数，且这个随机数会一直保存到真正复位为止。为使单片机能正常工作，被锁存的EA 电平值必须与该引脚当前的逻辑电平一致。此外，加密位只能通过整片擦除的方法清除。</p>
<p>·Flash存储器的编程：AT89C52单片机内部有8k字节的Flash PEROM，这个Flash 存储阵列出厂时已处于擦除状态（即所有存储单元的内容均为FFH），用户随时可对其进行编程。编程接口可接收高电压（+12V）或低电压（Vcc）的允许编程信号。低电压编程模式适合于用户在线编程系统，而高电压编程模式可与通用EPROM 编程器兼容。AT89C52 单片机中，有些属于低电压编程方式，而有些则是高电压编程方式，用户可从芯片上的型号和读取芯片内的签名字节获得该信息。AT89C52 的程序存储器阵列是采用字节写入方式编程的，每次写入一个字节，要对整个芯片内的PEROM 程序存储器写入一个非空字节，必须使用片擦除的方式将整个存储器的内容清除。</p>
<p>·编程方法：</p>
<p>编程前，须按表9 和图11 所示设置好地址、数据及控制信号， AT89C52 编程方法如下：</p>
<p>1． 在地址线上加上要编程单元的地址信号。</p>
<p>2． 在数据线上加上要写入的数据字节。</p>
<p>3． 激活相应的控制信号。</p>
<p>4． 在高电压编程方式时，将EA/Vpp 端加上+12V 编程电压。</p>
<p>5． 每对Flash 存储阵列写入一个字节或每写入一个程序加密位，加上一个ALE/PROG 编程脉冲。每个字节写入周期是自身定时的，通常约为1.5ms。重复1—5 步骤，改变编程单元的地址和写入的数据，直到全部文件编程结束。</p>
<p>·数据查询：</p>
<p>AT89C52 单片机用Data Palling 表示一个写周期结束为特征，在一个写周期中，如需读取最后写入的一个字节，则读出的数据的最高位（P0.7）是原来写入字节最高位的反码。写周期完成后，所输出的数据是有效的数据，即可进入下一个字节的写周期，写周期开始后，Data Palling 可能随时有效。·Ready/Busy：字节编程的进度可通过“RDY/BSY 输出信号监测，编程期间，ALE 变为高电平“H”后，P3.4（RDY/BSY）端电平被拉低，表示正在编程状态（忙状态）。编程完成后，P3.4 变为高电平表示准备就绪状态。·程序校验：如果加密位LB1、LB2 没有进行编程，则代码数据可通过地址和数据线读回原编写的数据，采用如图12的电路。加密位不可直接校验，加密位的校验可通过对存储器的校验和写入状态来验证。·芯片擦除：利用控制信号的正确组合（表6）并保持ALE/PROG 引脚10mS 的低电平脉冲宽度即可将PEROM 阵列（4k字节）和三个加密位整片擦除，代码阵列在片擦除操作中将任何非空单元写入“1”，这步骤需再编程之前进行。·读片内签名字节：AT89C52 单片机内有3 个签名字节，地址为030H、031H 和032H。用于声明该器件的厂商、型号和编程电压。读AT89C52 签名字节需将P3.6 和P3.7 置逻辑低电平，读签名字节的过程和单元030H、031H 及032H 的</p>
<p>正常校验相仿，只返回值意义如下：</p>
<p>（030H）=1EH 声明产品由ATMEL公司制造。</p>
<p>（031H）=52H 声明为AT89C52 单片机。</p>
<p>（032H）=FFH 声明为12V 编程电压。</p>
<p>（032H）=05H 声明为5V 编程电压</p>

            </div>
          

    
      <footer class="post-footer">
        <div class="post-tags">
          
            <a href="/tags/电子设计/">电子设计</a>
          
        </div>

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/usb-to-serial-port-pl2303-document-and-driver.html">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">USB转串口PL2303文档及其驱动</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/driver-interface-program-communication-protocol-between-the-three-types.html">
        <span class="next-text nav-default">驱动程序/接口程序/通讯协议三者区别</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
    <div style="text-align:center;">
        <button class="btn" id="load-disqus" onclick="disqus.load();">加载 Disqus 评论</button>
    </div>
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2008 -
    
    2019
    <span class="footer-author">Rming.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/Rming/hexo-theme-polarbearsimple">Polar Bear Simple</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    

<script type="text/javascript">
  var disqus_shortname = 'rming';
  var disqus_identifier = '/at89c52-chinese-data.html';

  var disqus_title = "AT89C52中文资料";


  var disqus = {
    load : function disqus(){
        if(typeof DISQUS !== 'object') {
          (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
          $('#load-disqus').remove(); ///加载后移除按钮
        }
    }
  }

  
    var disqus_config = function () {
        this.page.url = disqus_url;
        this.page.identifier = disqus_identifier;
        this.page.title = disqus_title;
    };
  

</script>


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.2"></script>

  </body>
</html>
