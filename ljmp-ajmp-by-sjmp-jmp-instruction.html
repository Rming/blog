<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="正确区分LJMP、AJMP、SJMP、JMP指令">




  <meta name="keywords" content="电子设计,">





  <link rel="alternate" href="/default" title="Rming">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.2">



<link rel="canonical" href="http://rmingwang.com/ljmp-ajmp-by-sjmp-jmp-instruction.html">


<meta name="description" content="无条件转移指令（共4条）LJMP addr16   ； PC〈—— addr16AJMP addr11   ； PC〈—— PC+2 ， PC10-0〈—— addr11SJMP rel      ； PC〈—— PC+2 ，   PC  〈—— PC+relJMP  @A+DPTR  ； PC〈—— A+DPTR第一条指令称为长转移指令（Long Jump）；第二条指令叫作绝对转移指令（Abso">
<meta name="keywords" content="电子设计">
<meta property="og:type" content="article">
<meta property="og:title" content="正确区分LJMP、AJMP、SJMP、JMP指令">
<meta property="og:url" content="http://rmingwang.com/ljmp-ajmp-by-sjmp-jmp-instruction.html">
<meta property="og:site_name" content="Rming">
<meta property="og:description" content="无条件转移指令（共4条）LJMP addr16   ； PC〈—— addr16AJMP addr11   ； PC〈—— PC+2 ， PC10-0〈—— addr11SJMP rel      ； PC〈—— PC+2 ，   PC  〈—— PC+relJMP  @A+DPTR  ； PC〈—— A+DPTR第一条指令称为长转移指令（Long Jump）；第二条指令叫作绝对转移指令（Abso">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2012-10-17T18:30:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正确区分LJMP、AJMP、SJMP、JMP指令">
<meta name="twitter:description" content="无条件转移指令（共4条）LJMP addr16   ； PC〈—— addr16AJMP addr11   ； PC〈—— PC+2 ， PC10-0〈—— addr11SJMP rel      ； PC〈—— PC+2 ，   PC  〈—— PC+relJMP  @A+DPTR  ； PC〈—— A+DPTR第一条指令称为长转移指令（Long Jump）；第二条指令叫作绝对转移指令（Abso">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?26275cbf6baa00fb8df9ba266da07c6d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-22663233-12', 'auto');
        ga('send', 'pageview');
  </script>





  


    <title> 正确区分LJMP、AJMP、SJMP、JMP指令 - Rming </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Rming</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/links.html">
                            
                            
                                友情链接
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          正确区分LJMP、AJMP、SJMP、JMP指令
        
      </h1>

      <time class="post-time">
          6月 23 2012
      </time>
    </header>



    
            <div class="post-content">
            <p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left">无条件转移指令（共4条）<br>LJMP addr16   ； PC〈—— addr16<br>AJMP addr11   ； PC〈—— PC+2 ， PC10-0〈—— addr11<br>SJMP rel      ； PC〈—— PC+2 ，   PC  〈—— PC+rel<br>JMP  @A+DPTR  ； PC〈—— A+DPTR</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left">第一条指令称为长转移指令（Long Jump）；<br>第二条指令叫作绝对转移指令（Absolute Jump）；<br>第三条指令称作短转移指令（Short Jump）；<br>第四条指令是变址寻址转移指令（散转指令）。</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left">显然，每条指令均以改变程序计数器PC（Program Counter）中的内容为宗旨。</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left"><strong>（</strong><strong>1</strong><strong>）长转移指令（</strong><strong>64KB</strong><strong>范围内转移指令）</strong><br>长转移指令的功能是：把指令码中的目标地址addr16装入程序计数器PC，使机器执行下一条指令时无条件转移到addr16处执行程序，不影响任何标志。由于addr16是一个16位二进制地址（地址范围为0000H—FFFFH），因此长转移指令一条可以在64KB范围内转移的指令。为了使程序设计方便易编，addr16常采用标号地址（如：LOOP、LOOP1、MAIN、START、DONE、NEXT1……）表示，只有在上机执行前才被汇编（或代真）为16位二进制地址。<br>长转移指令为三字节，双周期指令。<br>上机试试吧！很直观的！  For Example： LJMP F886H<br><strong>注意：</strong><br>在下载的这个8051DEBUG软件中，不支持标号，且程序状态字PSW（Program State Word）中的D0位，即奇偶标志位P，与正确的正好相反，这一点是错误的，用的时候留意一下。</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left">只要记好：累加器ACC中1的个数为奇数，则P=1；否则P=0。</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left"><strong>（</strong><strong>2</strong><strong>）绝对转移指令（</strong><strong>2KB</strong><strong>范围内的转移指令）</strong><br>绝对转移指令是一条双字节双周期指令，11位地址addr11（a10—a0）在指令中的分布是：<br>a10 a9 a8 0 0 0 1|a7 a6 a5 a4 a3 a2 a1 a0，其中，00001B是操作码。在程序设计中，11位地址也可以用符号表示，但在上机执行前必须按照上述指令格式加以代真。<br>绝对转移指令执行时分为两步：<br>第一步是取指令操作，程序计数器PC中内容被加1两次；<br>第二步是把PC加2后的高5为地址PC15—PC11和指令代码中低11位构成目标转移地址：PC15—PC11   a10  a9   a8   a7   a6   a5   a4   a3   a2   a1   a0</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left">其中，a10—a0的地址范围是全“0”——全“1”。因此，绝对转移指令可以在2KB范围内向前或向后跳转。<br>如果把单片机64KB寻址区分成32页（每页2KB），则PC15—PC11（00000B—11111B）称为页面地址（即：0页—31页），a10—a0称为页内地址，但应注意：AJMP指令的目标转移地址不是和AJMP指令地址在同一个2KB区域，而是应和AJMP指令取出后的PC地址（即：PC+2）在同一个2KB区域。例如：若AJMP指令地址为2FFEH，则PC+2=3000H，故目标转移地址必在3000H—37FFH这2KB区域中。<br>例如：MGH2001：AJMP addr11，<br>其中，MGH2001为AJMP addr11指令的标号地址，由该指令在程序存储器中的位置确定，addr11为11位地址，试分析该指令执行后的情况以及指令码的确定方法。<br>解：设MGH2001=3100H，addr11=10110100101B，则根据上述指令码格式可得绝对转移指令的格式码为：1 0 1| 0 0 0 0 1|1 0 1 0 0 1 0 1|（a10 a9 a8|操作码|a7—a0|）<br>即：A1A5H。该指令执行后：<br>PC15——PC11  a10 a9 a8 a7 a6 a5 a4 a3 a2 a1 a0<br>PC= 0 0 1 1 0     1   0  1  1  0  1  0  0  1  0  1 B =35A5H<br>即：程序转移到35A5H处执行。</p><br><p align="left"><span style="text-decoration: underline;"><br></span></p><br><p align="left"><strong>（</strong><strong>3</strong><strong>）短转移指令（</strong><strong>-126—+129</strong><strong>范围内的转移指令）</strong><br>短转移指令的功能是先使程序计数器PC加1两次（即：取出指令码），然后把加2后的地址和rel相加作为目标转移地址。因此，短转移指令是一条相对转移指令，是一条双字节双周期指令，指令码格式为：80H rel（操作码  地址偏移量），这里，80H是SJMP指令的操作码；rel是地址偏移量，在程序中也常采用符号地址，上机运行前才被代真成二进制形式。<br>遇到具体问题时，头脑中一定要清楚一个关系式：目标转移地址=源地址+2+rel</p><br><p align="left"><span style="text-decoration: underline;"><strong>（4）变址寻址转移指令（只能在256个存储器单元内转移）</strong><br>这是一条单字节双周期无条件转移指令。<br>在指令执行之前，用户应预先把目标转移地址的基地址送入DPTR，目标转移地址对基地址的偏移量放在累加器A中。在指令执行时，MCS-51单片机把DPTR中基地址和累加器A中地址偏移量相加，以形成目标转移地址送入程序计数器PC中。<br>通常，DPTR中基地址是一个确定的值，常常是一张转移指令表的起始地址，累加器A中之值为表的偏移量地址，机器通过变址寻址转移指令便可实现程序的分支转移<br></span></p>

            </div>
          

    
      <footer class="post-footer">
        <div class="post-tags">
          
            <a href="/tags/电子设计/">电子设计</a>
          
        </div>

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/about-user-experience.html">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">关于用户体验</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/the-load-capacity-and-the-use-of-the-power-adapter.html">
        <span class="next-text nav-default">电源适配器的负载能力和使用</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
    <div style="text-align:center;">
        <button class="btn" id="load-disqus" onclick="disqus.load();">加载 Disqus 评论</button>
    </div>
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2008 -
    
    2019
    <span class="footer-author">Rming.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/Rming/hexo-theme-polarbearsimple">Polar Bear Simple</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    

<script type="text/javascript">
  var disqus_shortname = 'rming';
  var disqus_identifier = '/ljmp-ajmp-by-sjmp-jmp-instruction.html';

  var disqus_title = "正确区分LJMP、AJMP、SJMP、JMP指令";


  var disqus = {
    load : function disqus(){
        if(typeof DISQUS !== 'object') {
          (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
          $('#load-disqus').remove(); ///加载后移除按钮
        }
    }
  }

  
    var disqus_config = function () {
        this.page.url = disqus_url;
        this.page.identifier = disqus_identifier;
        this.page.title = disqus_title;
    };
  

</script>


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.2"></script>

  </body>
</html>
