<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.8.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="ARM C程序基础">




  <meta name="keywords" content="电子设计,">





  <link rel="alternate" href="/default" title="Rming">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.2">



<link rel="canonical" href="http://rmingwang.com/arm-c-program.html">


<meta name="description" content="数据类型arm 基本数据类型包括 整数型和 浮点数类型。整数类型：Char 长度为8位的字节数据；Short 长度为16位的半字数据；Int 长度为32位的字数据；Long 长度为32位的字数据；Long Long 长度为64位的双字数据；浮点型：Float 长度为32位的浮点数；Double 长度为64位的浮点数； &amp;nbsp; c语言操作中，如果遇到无符号数和有符号数之间的操作，编译器会自动转">
<meta name="keywords" content="电子设计">
<meta property="og:type" content="article">
<meta property="og:title" content="ARM C程序基础">
<meta property="og:url" content="http://rmingwang.com/arm-c-program.html">
<meta property="og:site_name" content="Rming">
<meta property="og:description" content="数据类型arm 基本数据类型包括 整数型和 浮点数类型。整数类型：Char 长度为8位的字节数据；Short 长度为16位的半字数据；Int 长度为32位的字数据；Long 长度为32位的字数据；Long Long 长度为64位的双字数据；浮点型：Float 长度为32位的浮点数；Double 长度为64位的浮点数； &amp;nbsp; c语言操作中，如果遇到无符号数和有符号数之间的操作，编译器会自动转">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2012-10-17T18:30:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ARM C程序基础">
<meta name="twitter:description" content="数据类型arm 基本数据类型包括 整数型和 浮点数类型。整数类型：Char 长度为8位的字节数据；Short 长度为16位的半字数据；Int 长度为32位的字数据；Long 长度为32位的字数据；Long Long 长度为64位的双字数据；浮点型：Float 长度为32位的浮点数；Double 长度为64位的浮点数； &amp;nbsp; c语言操作中，如果遇到无符号数和有符号数之间的操作，编译器会自动转">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.2">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">





<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: false
    },
  };
</script>




  
  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?26275cbf6baa00fb8df9ba266da07c6d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-22663233-12', 'auto');
        ga('send', 'pageview');
  </script>





  


    <title> ARM C程序基础 - Rming </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Rming</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/links.html">
                            
                            
                                友情链接
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          ARM C程序基础
        
      </h1>

      <time class="post-time">
          7月 22 2012
      </time>
    </header>



    
            <div class="post-content">
            <p></p><h4><span id="数据类型">数据类型</span></h4><br>arm 基本数据类型包括 整数型和 浮点数类型。<br>整数类型：<br>Char 长度为8位的字节数据；<br>Short 长度为16位的半字数据；<br>Int 长度为32位的字数据；<br>Long 长度为32位的字数据；<br>Long Long 长度为64位的双字数据；<br>浮点型：<br>Float 长度为32位的浮点数；<br>Double 长度为64位的浮点数；<p></p>
<p>&nbsp;</p>
<p>c语言操作中，如果遇到无符号数和有符号数之间的操作，编译器会自动转化为无符号数来进行处理，符号位作为数值位处理。</p>
<p>字符由单引号及其所引起来的字符表示。</p>
<p>字符串由双引号及其所引起来的字符表示。</p>
<p>结构体中，为了地址边界对齐，避免被编译器填充无意义的填充位，浪费了存储空间，应该把位数小的数据放在结构的前面。</p>
<p>eg.<br>struct arm<br>{<br>char a;<br>char c;<br>short d;<br>int b;<br>}</p>
<p>通过#define和#undef 可以实现宏定义和删除宏<br>宏定义可以设置带参数形式：<br>eg.</p>
<p>#define mul(a,b)((a)<em>(b)) // 调用mul(1,2)时即为1</em>2</p>
<p>#define DELAY(a) while(–a)<br>int a=XXXXXX; DELAY(a); 就可以实现一个基本的延时函数</p>
<p>通过#error 可以输出错误信息<br>eg.<br>if(0){</p>
<p>#error “Something Is Wrong .. “;<br>}</p>
<p></p><h4><span id="条件编译">条件编译</span></h4><br>条件编译指令：<p></p>
<p>&nbsp;</p>
<p>#if(判断语句)<br>…语句段…</p>
<p>#elif(判断语句)<br>…语句段…</p>
<p>#else<br>…语句段…</p>
<p>#endif</p>
<p>若#if 指令后常量表达式为真，则编译#if到#else之间的程序段，否则编译#else到#endif之间的程序段。<br>在程序调试中，可以用#if指令 临时注释掉一段代码。</p>
<p>#if 0 … #endif</p>
<p></p><h4><span id="arm-编译器标识符">arm 编译器标识符</span></h4><br>1.<strong>irq<br>用于表示一个函数是否为中断函数。(eg: void </strong>irq IRQ_Eint0(void){})<br>2.<strong>swi<br>这个关键词用来定义软件中断，这个函数可以有参数和返回值。<br>eg:
</strong>swi(0) int add_two(int,int);<br><strong>swi(1) int multiply_two(int,int);<br>在程序中调用这些函数就会产生一个软件中断，进而调用软件中断处理函数。<br>3.</strong>asm<br>这个关键词告诉编译器后面的代码为汇编代码。用于实现C语言和汇编语言的混合编程。<br>混合编程有两种方法一种为 内联汇编 一种为 嵌入式汇编。<br>内联汇编指在c函数中插入汇编语句。<br>eg:<br>int add(int i ,int j)<br>{<br>int res;<br><strong>asm<br>{<br>ADD res,i,j;<br>}<br>return res;<br>}<br>嵌入式汇编在形式上表现为独立定义的函数。<br>eg:
</strong>asm void add(int i)<br>{<br>ADD r0,r0,#1;<br>}<p></p>
<p>&nbsp;</p>
<p>volatile变量 用于防止编译器访问上次访问的缓存值。编译器有一种技术叫数据流分析，分析程序的变量在哪赋值，在哪使用，在哪失效。当察觉到你的代码没有修改变量的值，在你访问变量时就提供上次访问的缓存值。这样虽然可以提高程序的效率，但在有中断函数的程序中就会带来麻烦。中断可能会修改该变量的值，而编译器无法更新缓存。用 volatile变量可以禁止编译器使用这种优化。<br>eg: volatile char AAA;</p>
<p></p><h4><span id="c程序优化">C程序优化</span></h4><br>除法运算中如果除数是2的n次方，编译器会用移位操作来完成除法运算，无符号数的除法运算会比有符号数效率高。<p></p>
<p>c语言中使用if选择语句时，在if判断语句中使用关系运算符(&lt;,=,&gt;等)和逻辑运算符(&amp;&amp;,!等)，可以使其执行体中使用条件执行指令，使用条件执行指令可以减少跳转指令的数量。 if 和 else 的执行体，应尽可能的简单。判断关系式 构成一个组。</p>
<p>eg.<br>int g(int a ,int b,int c,int d)<br>{<br>if(a&gt;0&amp;&amp;b&gt;0&amp;&amp;c&lt;0&amp;&amp;d&lt;0 )<br>return a+b+c+d;<br>}</p>
<p>中断程序基本原则：</p>
<p>1.避免在中断程序中做浮点运算，中断程序应该短而有效。<br>2.中断程序不能有返回值，所以中断程序都定义返回类型为void。<br>3.中断程序不能传递参数，所以中断程序的参数列表为void。</p>
<p></p><p style="text-align: left;">原文地址：<a href="http://www.ichanging.org/arm-c-primer.html" target="_blank" rel="noopener">arm 学习笔记–C程序基础</a></p><p></p>
<p></p><p style="text-align: left;"></p><br>&nbsp;<p></p>

            </div>
          

    
      <footer class="post-footer">
        <div class="post-tags">
          
            <a href="/tags/电子设计/">电子设计</a>
          
        </div>

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/stm32-wake-up.html">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">STM32 待机唤醒</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/stm32-rtc-clock.html">
        <span class="next-text nav-default">STM32 RTC实时时钟</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
    <div style="text-align:center;">
        <button class="btn" id="load-disqus" onclick="disqus.load();">加载 Disqus 评论</button>
    </div>
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2008 -
    
    2019
    <span class="footer-author">Rming.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/Rming/hexo-theme-polarbearsimple">Polar Bear Simple</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    

<script type="text/javascript">
  var disqus_shortname = 'rming';
  var disqus_identifier = '/arm-c-program.html';

  var disqus_title = "ARM C程序基础";


  var disqus = {
    load : function disqus(){
        if(typeof DISQUS !== 'object') {
          (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
          }());
          $('#load-disqus').remove(); ///加载后移除按钮
        }
    }
  }

  
    var disqus_config = function () {
        this.page.url = disqus_url;
        this.page.identifier = disqus_identifier;
        this.page.title = disqus_title;
    };
  

</script>


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  

    <script type="text/javascript" src="/js/src/theme.js?v=1.2"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.2"></script>

  </body>
</html>
